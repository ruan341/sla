<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delta Airlines RP - Sistema</title>
    <style>
        /* ESTILOS SIMPLIFICADOS */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: linear-gradient(135deg, #003366, #0066cc); color: white; min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        
        /* HEADER */
        header { background: rgba(0, 51, 102, 0.9); padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 2px solid #ff9900; }
        h1 { color: #ff9900; margin-bottom: 10px; }
        
        /* TABS */
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab-btn { padding: 10px 20px; background: #0066cc; border: none; border-radius: 5px; color: white; cursor: pointer; }
        .tab-btn.active { background: #ff9900; }
        
        /* CONTEÃšDO */
        .tab-content { display: none; padding: 20px; background: rgba(0, 51, 102, 0.9); border-radius: 10px; }
        .tab-content.active { display: block; }
        
        /* BOTÃ•ES */
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn-primary { background: #ff9900; color: white; }
        .btn-secondary { background: #0066cc; color: white; }
        
        /* CARDS */
        .card { background: rgba(0, 68, 136, 0.8); padding: 15px; border-radius: 10px; margin: 10px 0; }
        
        /* MODAL */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 1000; }
        .modal-content { background: #003366; padding: 20px; border-radius: 10px; max-width: 500px; width: 90%; border: 2px solid #ff9900; }
    </style>
</head>
<body>
    <!-- MODAL DE LOGIN -->
    <div id="loginModal" class="modal" style="display: flex;">
        <div class="modal-content">
            <h2 style="color: #ff9900; margin-bottom: 20px;">ğŸ” LOGIN</h2>
            <div>
                <label>E-mail ou ID:</label>
                <input type="text" id="loginEmail" placeholder="seu@email.com" style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ff9900;">
            </div>
            <div>
                <label>Senha:</label>
                <input type="password" id="loginPassword" placeholder="Sua senha" style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ff9900;">
            </div>
            <div id="adminCodeDiv" style="display: none;">
                <label>CÃ³digo Admin:</label>
                <input type="password" id="adminCode" placeholder="CÃ³digo admin" style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ff9900;">
            </div>
            <button class="btn btn-secondary" onclick="toggleLoginMode()" style="margin-bottom: 10px;">
                Modo: <span id="loginModeText">Piloto</span>
            </button>
            <button class="btn btn-primary" onclick="login()" style="width: 100%;">
                ENTRAR
            </button>
            <p style="text-align: center; margin-top: 15px;">
                <a href="#" onclick="showRegister()" style="color: #ff9900;">Cadastre-se</a>
            </p>
        </div>
    </div>
    
    <!-- CONTEÃšDO PRINCIPAL -->
    <div id="mainContent" style="display: none;">
        <div class="container">
            <header>
                <h1>âœˆï¸ DELTA AIRLINES RP</h1>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                    <div>
                        <span>ğŸ‘¤ <strong id="userName">-</strong></span>
                        <span style="margin-left: 20px;">ğŸ†” <strong id="userId">-</strong></span>
                    </div>
                    <button class="btn btn-secondary" onclick="logout()">Sair</button>
                </div>
            </header>
            
            <!-- ABAS -->
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('dashboard')">ğŸ“Š Dashboard</button>
                <button class="tab-btn" onclick="switchTab('flights')">âœˆï¸ Voos</button>
                <button class="tab-btn" onclick="switchTab('tests')">ğŸ§ª Testes</button>
                <button class="tab-btn" onclick="switchTab('license')">ğŸ“‹ Carteira</button>
                <button class="tab-btn" id="adminTab" onclick="showAdminPanel()">ğŸ‘¨â€âœˆï¸ Admin</button>
            </div>
            
            <!-- DASHBOARD -->
            <div id="dashboard" class="tab-content active">
                <h2>Bem-vindo, <span id="welcomeName">Piloto</span>!</h2>
                <div class="card">
                    <h3>ğŸ“ˆ Sua PontuaÃ§Ã£o: <span id="userScore">0</span></h3>
                    <p>Status: <span id="userStatus">Pendente</span></p>
                    <p>NÃ­vel: <span id="userLevel">Aprendiz</span></p>
                </div>
            </div>
            
            <!-- VOOS -->
            <div id="flights" class="tab-content">
                <h2>âœˆï¸ Meus Voos</h2>
                <div id="flightsList">
                    <div class="card">Nenhum voo agendado</div>
                </div>
            </div>
            
            <!-- TESTES -->
            <div id="tests" class="tab-content">
                <h2>ğŸ§ª Testes</h2>
                <div id="testsList">
                    <div class="card">
                        <p>Aguardando teste</p>
                        <button class="btn btn-primary" onclick="checkTest()">Verificar Teste</button>
                    </div>
                </div>
            </div>
            
            <!-- CARTEIRA -->
            <div id="license" class="tab-content">
                <h2>ğŸ“‹ Minha Carteira</h2>
                <div class="card">
                    <p><strong>Nome:</strong> <span id="licenseName">-</span></p>
                    <p><strong>ID:</strong> <span id="licenseId">-</span></p>
                    <p><strong>Categoria:</strong> <span id="licenseCategory">-</span></p>
                </div>
            </div>
            
            <!-- PAINEL ADMIN -->
            <div id="adminPanel" class="tab-content">
                <div id="adminLoginPrompt" style="text-align: center; padding: 40px;">
                    <h2>ğŸ” Ãrea Administrativa</h2>
                    <p>FaÃ§a login como administrador</p>
                    <button class="btn btn-primary" onclick="adminLoginPrompt()">Login Admin</button>
                </div>
                
                <div id="adminContent" style="display: none;">
                    <h2>ğŸ‘¨â€âœˆï¸ Painel de AdministraÃ§Ã£o</h2>
                    
                    <div style="margin: 20px 0;">
                        <button class="btn btn-primary" onclick="showAdminTab('pilots')">ğŸ‘¥ Pilotos</button>
                        <button class="btn btn-primary" onclick="showAdminTab('tests')">ğŸ§ª Testes</button>
                        <button class="btn btn-primary" onclick="showAdminTab('flights')">âœˆï¸ Voos</button>
                    </div>
                    
                    <!-- LISTA DE PILOTOS -->
                    <div id="adminPilotsTab">
                        <h3>Pilotos Cadastrados</h3>
                        <div id="pilotsList"></div>
                    </div>
                    
                    <!-- LISTA DE TESTES -->
                    <div id="adminTestsTab" style="display: none;">
                        <h3>Testes</h3>
                        <button class="btn btn-primary" onclick="createTest()">Criar Teste</button>
                        <div id="testsAdminList"></div>
                    </div>
                    
                    <!-- LISTA DE VOOS -->
                    <div id="adminFlightsTab" style="display: none;">
                        <h3>Voos</h3>
                        <button class="btn btn-primary" onclick="createFlight()">Agendar Voo</button>
                        <div id="flightsAdminList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== SISTEMA SIMPLES ====================
        
        // CONFIGURAÃ‡ÃƒO
        const CONFIG = {
            ADMIN_CODE: "admin123",
            STORAGE_KEY: "delta_system"
        };
        
        // VARIÃVEIS GLOBAIS
        let currentUser = null;
        let isAdmin = false;
        let pilots = {};
        let flights = [];
        let tests = {};
        
        // ==================== INICIALIZAÃ‡ÃƒO ====================
        function init() {
            console.log("Iniciando sistema...");
            
            // Carregar dados
            loadData();
            
            // Verificar sessÃ£o
            const session = localStorage.getItem(CONFIG.STORAGE_KEY + "_session");
            if (session) {
                try {
                    const data = JSON.parse(session);
                    if (data.expires > Date.now()) {
                        autoLogin(data);
                    }
                } catch(e) {
                    console.log("SessÃ£o invÃ¡lida");
                }
            }
            
            // Se nÃ£o logado, mostrar login
            if (!currentUser) {
                showLogin();
            }
        }
        
        function loadData() {
            try {
                // Carregar pilotos
                const pilotsData = localStorage.getItem(CONFIG.STORAGE_KEY + "_pilots");
                if (pilotsData) {
                    pilots = JSON.parse(pilotsData);
                } else {
                    // Criar dados de exemplo
                    createSampleData();
                }
                
                // Carregar voos
                const flightsData = localStorage.getItem(CONFIG.STORAGE_KEY + "_flights");
                if (flightsData) {
                    flights = JSON.parse(flightsData);
                }
                
                // Carregar testes
                const testsData = localStorage.getItem(CONFIG.STORAGE_KEY + "_tests");
                if (testsData) {
                    tests = JSON.parse(testsData);
                }
            } catch(e) {
                console.error("Erro ao carregar dados:", e);
                resetData();
            }
        }
        
        function saveData() {
            try {
                localStorage.setItem(CONFIG.STORAGE_KEY + "_pilots", JSON.stringify(pilots));
                localStorage.setItem(CONFIG.STORAGE_KEY + "_flights", JSON.stringify(flights));
                localStorage.setItem(CONFIG.STORAGE_KEY + "_tests", JSON.stringify(tests));
            } catch(e) {
                console.error("Erro ao salvar:", e);
            }
        }
        
        function createSampleData() {
            // Piloto de exemplo
            pilots["DL-001"] = {
                id: "DL-001",
                name: "JoÃ£o Silva",
                email: "joao@exemplo.com",
                password: "123456",
                score: 100,
                status: "approved",
                level: "Piloto Jr"
            };
            
            // Outro piloto
            pilots["DL-002"] = {
                id: "DL-002",
                name: "Maria Santos",
                email: "maria@exemplo.com",
                password: "123456",
                score: 0,
                status: "pending",
                level: "Aprendiz"
            };
            
            // Voo de exemplo
            flights.push({
                id: "flight1",
                number: "DL101",
                origin: "SÃ£o Paulo",
                destination: "Rio de Janeiro",
                date: "2024-12-15",
                time: "14:30",
                pilotId: "DL-001",
                status: "scheduled"
            });
            
            // Teste de exemplo
            tests["test1"] = {
                id: "test1",
                name: "Teste BÃ¡sico",
                questions: 10,
                passingScore: 7,
                status: "template"
            };
            
            saveData();
        }
        
        function resetData() {
            pilots = {};
            flights = [];
            tests = {};
            createSampleData();
        }
        
        // ==================== SISTEMA DE LOGIN ====================
        let loginMode = 'pilot';
        
        function showLogin() {
            document.getElementById('loginModal').style.display = 'flex';
        }
        
        function toggleLoginMode() {
            loginMode = loginMode === 'pilot' ? 'admin' : 'pilot';
            document.getElementById('loginModeText').textContent = loginMode === 'admin' ? 'Admin' : 'Piloto';
            document.getElementById('adminCodeDiv').style.display = loginMode === 'admin' ? 'block' : 'none';
        }
        
        function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            
            if (!email || !password) {
                alert("Preencha todos os campos!");
                return;
            }
            
            if (loginMode === 'admin') {
                const adminCode = document.getElementById('adminCode').value.trim();
                if (adminCode !== CONFIG.ADMIN_CODE) {
                    alert("CÃ³digo administrativo incorreto!");
                    return;
                }
                
                // Login como admin
                currentUser = {
                    id: "ADMIN",
                    name: "Administrador",
                    email: email,
                    isAdmin: true
                };
                isAdmin = true;
                
                saveSession();
                showMain();
                unlockAdmin();
                
                alert("âœ… Login administrativo realizado!");
                
            } else {
                // Login como piloto
                let foundPilot = null;
                
                // Buscar piloto por email ou ID
                for (const id in pilots) {
                    const pilot = pilots[id];
                    if ((pilot.email === email || pilot.id === email) && pilot.password === password) {
                        foundPilot = pilot;
                        break;
                    }
                }
                
                if (foundPilot) {
                    currentUser = foundPilot;
                    isAdmin = false;
                    
                    saveSession();
                    showMain();
                    
                    alert(`âœ… Bem-vindo, ${foundPilot.name}!`);
                } else {
                    alert("âŒ Email/senha incorretos!");
                }
            }
        }
        
        function autoLogin(sessionData) {
            if (sessionData.isAdmin) {
                currentUser = {
                    id: "ADMIN",
                    name: "Administrador",
                    email: sessionData.email,
                    isAdmin: true
                };
                isAdmin = true;
                showMain();
                unlockAdmin();
            } else {
                const pilot = pilots[sessionData.userId];
                if (pilot && pilot.password === sessionData.password) {
                    currentUser = pilot;
                    isAdmin = false;
                    showMain();
                }
            }
        }
        
        function saveSession() {
            const session = {
                userId: currentUser.id,
                email: currentUser.email,
                password: currentUser.password,
                isAdmin: isAdmin,
                expires: Date.now() + (7 * 24 * 60 * 60 * 1000)
            };
            localStorage.setItem(CONFIG.STORAGE_KEY + "_session", JSON.stringify(session));
        }
        
        function showMain() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            
            // Atualizar informaÃ§Ãµes
            updateUserInfo();
            
            // Mostrar dashboard inicialmente
            switchTab('dashboard');
        }
        
        function updateUserInfo() {
            if (!currentUser) return;
            
            // Atualizar header
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userId').textContent = currentUser.id;
            document.getElementById('welcomeName').textContent = currentUser.name;
            document.getElementById('userScore').textContent = currentUser.score || 0;
            document.getElementById('userStatus').textContent = currentUser.status || "Pendente";
            document.getElementById('userLevel').textContent = currentUser.level || "Aprendiz";
            
            // Atualizar carteira
            document.getElementById('licenseName').textContent = currentUser.name;
            document.getElementById('licenseId').textContent = currentUser.id;
            document.getElementById('licenseCategory').textContent = currentUser.level || "Aprendiz";
        }
        
        function logout() {
            currentUser = null;
            isAdmin = false;
            localStorage.removeItem(CONFIG.STORAGE_KEY + "_session");
            document.getElementById('mainContent').style.display = 'none';
            showLogin();
            alert("ğŸ‘‹ Logout realizado!");
        }
        
        // ==================== SISTEMA DE ABAS ====================
        function switchTab(tabId) {
            // Esconder todas as abas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remover active de todos os botÃµes
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar aba selecionada
            document.getElementById(tabId).style.display = 'block';
            
            // Ativar botÃ£o
            const activeBtn = Array.from(document.querySelectorAll('.tab-btn')).find(btn => 
                btn.textContent.includes(tabId === 'dashboard' ? 'Dashboard' : 
                                       tabId === 'flights' ? 'Voos' : 
                                       tabId === 'tests' ? 'Testes' : 
                                       tabId === 'license' ? 'Carteira' : '')
            );
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            // Carregar conteÃºdo
            if (tabId === 'flights') {
                loadFlights();
            } else if (tabId === 'tests') {
                loadTests();
            }
        }
        
        // ==================== FUNÃ‡Ã•ES DO PILOTO ====================
        function loadFlights() {
            if (!currentUser || isAdmin) return;
            
            const container = document.getElementById('flightsList');
            const pilotFlights = flights.filter(f => f.pilotId === currentUser.id);
            
            if (pilotFlights.length === 0) {
                container.innerHTML = '<div class="card">Nenhum voo agendado</div>';
                return;
            }
            
            container.innerHTML = pilotFlights.map(flight => `
                <div class="card">
                    <h4>âœˆï¸ Voo ${flight.number}</h4>
                    <p>${flight.origin} â†’ ${flight.destination}</p>
                    <p>ğŸ“… ${flight.date} ${flight.time}</p>
                    <p>Status: ${flight.status}</p>
                </div>
            `).join('');
        }
        
        function loadTests() {
            if (!currentUser || isAdmin) return;
            
            const container = document.getElementById('testsList');
            const pilotTests = Object.values(tests).filter(t => t.pilotId === currentUser.id);
            
            if (pilotTests.length === 0) {
                container.innerHTML = `
                    <div class="card">
                        <p>Aguardando teste ser atribuÃ­do</p>
                        <button class="btn btn-primary" onclick="checkTest()">Verificar Teste</button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = pilotTests.map(test => `
                <div class="card">
                    <h4>ğŸ§ª ${test.name}</h4>
                    <p>Status: ${test.status}</p>
                    ${test.status === 'pending' ? `
                        <button class="btn btn-primary" onclick="startTest('${test.id}')">Iniciar Teste</button>
                    ` : ''}
                </div>
            `).join('');
        }
        
        function checkTest() {
            alert("Nenhum teste disponÃ­vel no momento. Aguarde atribuiÃ§Ã£o do administrador.");
        }
        
        // ==================== SISTEMA ADMIN ====================
        function adminLoginPrompt() {
            loginMode = 'admin';
            document.getElementById('loginModal').style.display = 'flex';
            document.getElementById('adminCodeDiv').style.display = 'block';
            document.getElementById('loginModeText').textContent = 'Admin';
        }
        
        function showAdminPanel() {
            if (!isAdmin) {
                adminLoginPrompt();
                return;
            }
            
            // Esconder outras abas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remover active de todos os botÃµes
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar painel admin
            document.getElementById('adminPanel').style.display = 'block';
            document.getElementById('adminTab').classList.add('active');
            
            // Carregar conteÃºdo admin
            loadAdminContent();
        }
        
        function unlockAdmin() {
            document.getElementById('adminLoginPrompt').style.display = 'none';
            document.getElementById('adminContent').style.display = 'block';
            
            // Carregar dados admin
            loadAdminContent();
        }
        
        function loadAdminContent() {
            if (!isAdmin) return;
            
            // Mostrar abas do admin
            showAdminTab('pilots');
        }
        
        function showAdminTab(tabId) {
            if (!isAdmin) return;
            
            // Esconder todas as abas do admin
            document.getElementById('adminPilotsTab').style.display = 'none';
            document.getElementById('adminTestsTab').style.display = 'none';
            document.getElementById('adminFlightsTab').style.display = 'none';
            
            // Mostrar aba selecionada
            document.getElementById('admin' + tabId.charAt(0).toUpperCase() + tabId.slice(1) + 'Tab').style.display = 'block';
            
            // Carregar conteÃºdo
            if (tabId === 'pilots') {
                loadAdminPilots();
            } else if (tabId === 'tests') {
                loadAdminTests();
            } else if (tabId === 'flights') {
                loadAdminFlights();
            }
        }
        
        function loadAdminPilots() {
            if (!isAdmin) return;
            
            const container = document.getElementById('pilotsList');
            const pilotList = Object.values(pilots);
            
            if (pilotList.length === 0) {
                container.innerHTML = '<div class="card">Nenhum piloto cadastrado</div>';
                return;
            }
            
            container.innerHTML = pilotList.map(pilot => `
                <div class="card" style="margin-bottom: 10px;">
                    <h4>ğŸ‘¤ ${pilot.name}</h4>
                    <p>ID: ${pilot.id}</p>
                    <p>Status: ${pilot.status}</p>
                    <p>PontuaÃ§Ã£o: ${pilot.score || 0}</p>
                    <div style="margin-top: 10px;">
                        <button class="btn btn-small btn-primary" onclick="viewPilot('${pilot.id}')">Ver</button>
                        <button class="btn btn-small btn-secondary" onclick="messagePilot('${pilot.id}')">Mensagem</button>
                        ${pilot.status !== 'approved' ? `
                            <button class="btn btn-small btn-success" onclick="assignTest('${pilot.id}')">Atribuir Teste</button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }
        
        function loadAdminTests() {
            if (!isAdmin) return;
            
            const container = document.getElementById('testsAdminList');
            const testList = Object.values(tests);
            
            if (testList.length === 0) {
                container.innerHTML = '<div class="card">Nenhum teste criado</div>';
                return;
            }
            
            container.innerHTML = testList.map(test => `
                <div class="card" style="margin-bottom: 10px;">
                    <h4>ğŸ§ª ${test.name}</h4>
                    <p>ID: ${test.id}</p>
                    <p>Status: ${test.status}</p>
                    ${test.pilotId ? `<p>Piloto: ${pilots[test.pilotId]?.name || 'N/A'}</p>` : ''}
                </div>
            `).join('');
        }
        
        function loadAdminFlights() {
            if (!isAdmin) return;
            
            const container = document.getElementById('flightsAdminList');
            
            if (flights.length === 0) {
                container.innerHTML = '<div class="card">Nenhum voo agendado</div>';
                return;
            }
            
            container.innerHTML = flights.map(flight => `
                <div class="card" style="margin-bottom: 10px;">
                    <h4>âœˆï¸ Voo ${flight.number}</h4>
                    <p>${flight.origin} â†’ ${flight.destination}</p>
                    <p>ğŸ“… ${flight.date} ${flight.time}</p>
                    <p>Piloto: ${flight.pilotId ? pilots[flight.pilotId]?.name : 'NÃ£o designado'}</p>
                    <p>Status: ${flight.status}</p>
                </div>
            `).join('');
        }
        
        function createTest() {
            if (!isAdmin) return;
            
            const testName = prompt("Nome do teste:");
            if (!testName) return;
            
            const testId = "test_" + Date.now();
            tests[testId] = {
                id: testId,
                name: testName,
                questions: 10,
                passingScore: 7,
                status: "template"
            };
            
            saveData();
            loadAdminTests();
            alert("âœ… Teste criado com sucesso!");
        }
        
        function createFlight() {
            if (!isAdmin) return;
            
            const flightNumber = prompt("NÃºmero do voo:");
            if (!flightNumber) return;
            
            flights.push({
                id: "flight_" + Date.now(),
                number: flightNumber,
                origin: "SÃ£o Paulo",
                destination: "Rio de Janeiro",
                date: "2024-12-20",
                time: "10:00",
                pilotId: null,
                status: "available"
            });
            
            saveData();
            loadAdminFlights();
            alert("âœ… Voo agendado!");
        }
        
        function assignTest(pilotId) {
            if (!isAdmin) return;
            
            const pilot = pilots[pilotId];
            if (!pilot) return;
            
            // Encontrar teste template
            const availableTest = Object.values(tests).find(t => t.status === "template");
            
            if (!availableTest) {
                alert("Crie um teste primeiro!");
                createTest();
                return;
            }
            
            // Criar cÃ³pia do teste para o piloto
            const testId = "test_" + Date.now() + "_" + pilotId;
            tests[testId] = {
                ...availableTest,
                id: testId,
                pilotId: pilotId,
                status: "pending"
            };
            
            // Atualizar status do piloto
            pilot.status = "testing";
            pilots[pilotId] = pilot;
            
            saveData();
            loadAdminPilots();
            alert(`âœ… Teste atribuÃ­do a ${pilot.name}!`);
        }
        
        function viewPilot(pilotId) {
            const pilot = pilots[pilotId];
            if (!pilot) return;
            
            alert(`PERFIL DO PILOTO:\n\nğŸ‘¤ Nome: ${pilot.name}\nğŸ†” ID: ${pilot.id}\nğŸ“§ Email: ${pilot.email}\nğŸ“Š PontuaÃ§Ã£o: ${pilot.score || 0}\nğŸ“‹ Status: ${pilot.status}\nğŸ¯ NÃ­vel: ${pilot.level || 'Aprendiz'}`);
        }
        
        function messagePilot(pilotId) {
            const pilot = pilots[pilotId];
            if (!pilot) return;
            
            const message = prompt(`Digite a mensagem para ${pilot.name}:`);
            if (message) {
                alert(`âœ… Mensagem enviada para ${pilot.name}!`);
            }
        }
        
        function showRegister() {
            const name = prompt("Nome completo:");
            if (!name) return;
            
            const email = prompt("E-mail:");
            if (!email) return;
            
            const roblox = prompt("UsuÃ¡rio Roblox:");
            if (!roblox) return;
            
            const password = prompt("Senha (mÃ­nimo 6 caracteres):");
            if (!password || password.length < 6) {
                alert("Senha invÃ¡lida!");
                return;
            }
            
            // Verificar se email jÃ¡ existe
            for (const id in pilots) {
                if (pilots[id].email === email) {
                    alert("Este e-mail jÃ¡ estÃ¡ cadastrado!");
                    return;
                }
            }
            
            // Criar novo piloto
            const pilotId = "DL-" + (Object.keys(pilots).length + 1).toString().padStart(3, '0');
            pilots[pilotId] = {
                id: pilotId,
                name: name,
                email: email,
                roblox: roblox,
                password: password,
                score: 0,
                status: "pending",
                level: "Aprendiz"
            };
            
            saveData();
            
            alert(`âœ… Cadastro realizado! Seu ID Ã©: ${pilotId}\n\nFaÃ§a login com:\nEmail: ${email}\nSenha: ${password}`);
        }
        
        // Inicializar quando a pÃ¡gina carregar
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
